 <!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Ù…ÙˆÙ„Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠ - Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¨Ø§Ø¯Ù„ÙŠ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Ù…ÙˆÙ„Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù… - ØªÙˆÙ„ÙŠØ¯ ÙˆØªØ®Ø²ÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ±ÙƒÙŠØ¨Ø§Øª Ø§Ù„Ù…Ù…ÙƒÙ†Ø© Ù„Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©. ØªØ·ÙˆÙŠØ± Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¨Ø§Ø¯Ù„ÙŠ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ">
    <meta name="keywords" content="Ù…ÙˆÙ„Ø¯ ÙƒÙ„Ù…Ø§Øª Ø¹Ø±Ø¨ÙŠØ©ØŒ ÙƒÙ„Ù…Ø§Øª Ø¹Ø±Ø¨ÙŠØ©ØŒ ØªØ³Ù„Ø³Ù„ Ø­Ø±ÙˆÙØŒ Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¨Ø§Ø¯Ù„ÙŠØŒ Ù…ØºØ±Ø¨ÙŠØŒ Ù„ØºØ© Ø¹Ø±Ø¨ÙŠØ©ØŒ Ø­ÙˆØ³Ø¨Ø© Ù„ØºÙˆÙŠØ©">
    <meta name="author" content="Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¨Ø§Ø¯Ù„ÙŠ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ">
    <meta name="robots" content="index, follow">
    <meta name="language" content="Arabic">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Ù…ÙˆÙ„Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠ - Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¨Ø§Ø¯Ù„ÙŠ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ">
    <meta property="og:description" content="Ø£Ø¯Ø§Ø© Ù…ØªÙ‚Ø¯Ù…Ø© Ù„ØªÙˆÙ„ÙŠØ¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ±ÙƒÙŠØ¨Ø§Øª Ø§Ù„Ù…Ù…ÙƒÙ†Ø© Ù„Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø·Ø±ÙŠÙ‚Ø© ØªØ³Ù„Ø³Ù„ÙŠØ© Ù…Ù†Ø¸Ù…Ø©">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="ar_SA">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Ù…ÙˆÙ„Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠ">
    <meta name="twitter:description" content="Ø£Ø¯Ø§Ø© Ù…ØªÙ‚Ø¯Ù…Ø© Ù„ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© - ØªØ·ÙˆÙŠØ± Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¨Ø§Ø¯Ù„ÙŠ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#5D5CDE">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Ù…ÙˆÙ„Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Ù…ÙˆÙ„Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://yourwebsite.com/">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iOCIgZmlsbD0iIzVENUNERSIvPgo8dGV4dCB4PSIxNiIgeT0iMjIiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxOCIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj7YpzwvdGV4dD4KPC9zdmc+">
    
    <!-- Web App Manifest -->
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogItin2YXZiNmE2K/Yp9mE2YPZhNmF2KfYqiDYp9mE2LnYsdio2YrYqSDYp9mE2KrYs9mE2LPZhNmKIC0g2YXYrdmF2K8g2KfZhNio2KfYr9mE2Yog2KfZhNmF2LrYsdio2YoiLAogICJzaG9ydF9uYW1lIjogItin2YXZiNmE2K8g2KfZhNmD2YTZhdin2KoiLAogICJkZXNjcmlwdGlvbiI6ICLYo9iv2KfYqSDZhdiq2YLYr9mF2Kkg2YTYqtmI2YTZitmK2K8g2KfZhNmD2YTZhdin2Kog2KfZhNi52LHYqNmK2KkiLAogICJzdGFydF91cmwiOiAiLi8iLAogICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLAogICJvcmllbnRhdGlvbiI6ICJwb3J0cmFpdCIsCiAgInRoZW1lX2NvbG9yIjogIiM1RDVDREUiLAogICJiYWNrZ3JvdW5kX2NvbG9yIjogIiNGRkZGRkYiLAogICJjYXRlZ29yaWVzIjogWyJlZHVjYXRpb24iLCAidXRpbGl0aWVzIiwgInRvb2xzIiwgImFyYWJpYyJdLAogICJsYW5nIjogImFyIiwKICAiaWNvbnMiOiBbCiAgICB7CiAgICAgICJzcmMiOiAiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCM2FXUjBhRDBpTVRreUlpQm9aV2xuYUhROUlqRTVNaUlnZG1sbGQwSnZlRDBpTUNBd0lERTVNaUF4T1RJaUlHWnBiR3c5SW01dmJtVWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SStDbHh5WldOMElIZHBaSFJvUFNJeE9USWlJR2hsYVdkb2REMGlNVGt5SW1CTyJBaUlHWnBiR3c5SWlNMVJEVkRSRVVpTHo0S1BIUmxlSFFnZUQwaU9UQWlJSGs5SWpFeU1DSWdabTl1ZEMxbVlXMXBiSGs5SWtGeWFXRnNJaUJtYjI1MExYTnBlbVU5SWpjd0lpQm1iMjUwTFhkbGFXZG9kRDBpWW05c1pDSWdabWxzYkQwaWQyaHBkR1VpSUhSbGVIUXRZVzVqYUc5eVBTSnRhV1JrYkdVaVBpNVpkend2ZEdWNGRENEtQSFJsZUhRZ2VEMGlPVEFpSUhrOUlqVXdJaUJtYjI1MExXWmhiV2xzZVQwaVFYSnBZV3dpSUdadmJuUXRjMmw2WlQwaU1qQWlJR1pwYkd3OUluZG9hWFJsSWlCMFpYaDBMV0Z1WTJodmNqMGliV2xrWkd4bElpNTJaRDNjN2RHVjRkRDRLUEM5emRtYysif==",CiAgICAgICJzaXplcyI6ICIxOTJ4MTkyIiwKICAgICAgInR5cGUiOiAiaW1hZ2Uvc3ZnK3htbCIKICAgIH0KICBdCn0=">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#5D5CDE',
                        morocco: '#C1272D'
                    }
                }
            }
        }
    </script>
    
    <!-- Google Analytics (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'GA_MEASUREMENT_ID');
    </script>
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Ù…ÙˆÙ„Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠ",
        "description": "Ø£Ø¯Ø§Ø© Ù…ØªÙ‚Ø¯Ù…Ø© Ù„ØªÙˆÙ„ÙŠØ¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ±ÙƒÙŠØ¨Ø§Øª Ø§Ù„Ù…Ù…ÙƒÙ†Ø© Ù„Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø·Ø±ÙŠÙ‚Ø© ØªØ³Ù„Ø³Ù„ÙŠØ©",
        "url": "https://yourwebsite.com",
        "author": {
            "@type": "Person",
            "name": "Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¨Ø§Ø¯Ù„ÙŠ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ",
            "nationality": "Ø§Ù„Ù…ØºØ±Ø¨"
        },
        "inLanguage": "ar",
        "applicationCategory": "EducationalApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        }
    }
    </script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'Noto Sans Arabic', sans-serif;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        .word-card {
            transition: all 0.2s ease;
            font-size: 16px;
            min-height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            -webkit-tap-highlight-color: rgba(93, 92, 222, 0.3);
            position: relative;
        }
        
        .word-card:hover, .word-card:active {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(93, 92, 222, 0.15);
        }
        
        .word-card.saved {
            background: linear-gradient(45deg, #5D5CDE, #7C3AED);
            color: white;
            border-color: #5D5CDE;
        }
        
        .save-btn {
            position: absolute;
            top: 2px;
            left: 2px;
            background: rgba(93, 92, 222, 0.8);
            color: white;
            border: none;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 10px;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.2s;
            z-index: 10;
        }
        
        .word-card:hover .save-btn {
            opacity: 1;
        }
        
        .word-card.saved .save-btn {
            background: rgba(255, 255, 255, 0.3);
            opacity: 1;
        }
        
        .loading-spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #5D5CDE;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .progress-bar {
            transition: width 0.3s ease;
        }
        
        .developer-signature {
            background: linear-gradient(135deg, #C1272D, #FF6B35);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: bold;
        }
        
        .morocco-flag {
            background: linear-gradient(to right, #C1272D 0%, #C1272D 100%);
            position: relative;
        }
        
        .morocco-flag::before {
            content: 'â˜…';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #006233;
            font-size: 12px;
        }
        
        .nav-tab {
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }
        
        .nav-tab.active {
            border-bottom-color: #5D5CDE;
            color: #5D5CDE;
        }
        
        .collection-card {
            transition: all 0.2s ease;
            cursor: pointer;
        }
        
        .collection-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        /* Footer styling */
        .footer {
            background: linear-gradient(135deg, #5D5CDE, #7C3AED);
            margin-top: 4rem;
        }
        
        /* Mobile optimizations */
        @media (max-width: 640px) {
            .word-card {
                font-size: 14px;
                min-height: 40px;
                padding: 8px;
            }
        }
        
        /* Print styles */
        @media print {
            .no-print {
                display: none !important;
            }
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-screen">
    <!-- Header with Developer Info -->
    <header class="bg-gradient-to-r from-primary to-purple-600 text-white shadow-lg">
        <div class="max-w-7xl mx-auto p-4 md:p-6">
            <div class="flex items-center justify-between mb-4">
                <div class="flex items-center space-x-3 space-x-reverse">
                    <div class="w-8 h-5 morocco-flag rounded"></div>
                    <div>
                        <h1 class="text-xl md:text-3xl font-bold">Ù…ÙˆÙ„Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</h1>
                        <p class="text-sm md:text-base text-purple-100">Ø£Ø¯Ø§Ø© Ø´Ø§Ù…Ù„Ø© Ù„ØªÙˆÙ„ÙŠØ¯ ÙˆØ­ÙØ¸ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠ</p>
                    </div>
                </div>
                <div class="text-right">
                    <p class="text-sm text-purple-100">ØªØ·ÙˆÙŠØ± Ùˆ Ø¨Ø±Ù…Ø¬Ø©</p>
                    <p class="font-bold text-lg developer-signature text-white">Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¨Ø§Ø¯Ù„ÙŠ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ</p>
                    <p class="text-xs text-purple-200">ğŸ‡²ğŸ‡¦ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù…ØºØ±Ø¨ÙŠØ©</p>
                </div>
            </div>
            
            <!-- Navigation Tabs -->
            <div class="flex space-x-1 space-x-reverse">
                <button class="nav-tab active px-4 py-2 font-semibold" data-tab="generator">Ø§Ù„Ù…ÙˆÙ„Ø¯</button>
                <button class="nav-tab px-4 py-2 font-semibold" data-tab="saved">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©</button>
                <button class="nav-tab px-4 py-2 font-semibold" data-tab="about">Ø­ÙˆÙ„ Ø§Ù„Ù…Ø·ÙˆØ±</button>
                <button class="nav-tab px-4 py-2 font-semibold" data-tab="help">Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©</button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto p-4 md:p-6">
        <!-- Generator Tab -->
        <div id="generator-tab" class="tab-content">
            <!-- Quick Stats Banner -->
            <div class="bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-4 mb-6 border border-blue-200 dark:border-blue-800">
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                    <div>
                        <div class="text-xl font-bold text-blue-600">28</div>
                        <div class="text-sm text-blue-500">Ø­Ø±Ù Ø¹Ø±Ø¨ÙŠ</div>
                    </div>
                    <div>
                        <div class="text-xl font-bold text-green-600" id="quickTotal">0</div>
                        <div class="text-sm text-green-500">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù…ØªÙˆÙ‚Ø¹</div>
                    </div>
                    <div>
                        <div class="text-xl font-bold text-purple-600" id="quickSaved">0</div>
                        <div class="text-sm text-purple-500">Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ø­ÙÙˆØ¸Ø©</div>
                    </div>
                    <div>
                        <div class="text-xl font-bold text-orange-600">âˆ</div>
                        <div class="text-sm text-orange-500">Ø¥Ù…ÙƒØ§Ù†ÙŠØ§Øª Ù„Ø§ Ù…Ø­Ø¯ÙˆØ¯Ø©</div>
                    </div>
                </div>
            </div>
            
            <!-- Controls -->
            <div class="bg-white dark:bg-gray-800 rounded-xl p-4 md:p-6 mb-6 md:mb-8 shadow-sm">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                    <div>
                        <label class="block text-sm font-medium mb-2">Ø§Ù„Ø·ÙˆÙ„ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„ÙƒÙ„Ù…Ø©</label>
                        <select id="maxLength" class="w-full px-4 py-3 text-base border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 focus:ring-2 focus:ring-primary focus:border-transparent">
                            <option value="1">Ø­Ø±Ù ÙˆØ§Ø­Ø¯ (28 ÙƒÙ„Ù…Ø©)</option>
                            <option value="2">Ø­Ø±ÙÙŠÙ† (812 ÙƒÙ„Ù…Ø©)</option>
                            <option value="3" selected>Ø«Ù„Ø§Ø«Ø© Ø£Ø­Ø±Ù (22,736 ÙƒÙ„Ù…Ø©)</option>
                            <option value="4">Ø£Ø±Ø¨Ø¹Ø© Ø£Ø­Ø±Ù (636,608 ÙƒÙ„Ù…Ø©)</option>
                            <option value="5">Ø®Ù…Ø³Ø© Ø£Ø­Ø±Ù (17.8 Ù…Ù„ÙŠÙˆÙ† ÙƒÙ„Ù…Ø©)</option>
                            <option value="6">Ø³ØªØ© Ø£Ø­Ø±Ù (498.7 Ù…Ù„ÙŠÙˆÙ† ÙƒÙ„Ù…Ø©)</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2">Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ù„ÙƒÙ„ Ø¯ÙØ¹Ø©</label>
                        <select id="batchSize" class="w-full px-4 py-3 text-base border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 focus:ring-2 focus:ring-primary focus:border-transparent">
                            <option value="100">100 ÙƒÙ„Ù…Ø©</option>
                            <option value="500" selected>500 ÙƒÙ„Ù…Ø©</option>
                            <option value="1000">1,000 ÙƒÙ„Ù…Ø©</option>
                            <option value="2000">2,000 ÙƒÙ„Ù…Ø©</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2">Ø§Ø³Ù… Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©</label>
                        <input type="text" id="collectionName" placeholder="Ù…Ø«Ø§Ù„: ÙƒÙ„Ù…Ø§Øª Ø«Ù„Ø§Ø«ÙŠØ©" class="w-full px-4 py-3 text-base border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 focus:ring-2 focus:ring-primary focus:border-transparent">
                    </div>
                    
                    <div class="flex items-end">
                        <button id="generateBtn" class="w-full bg-primary hover:bg-purple-600 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 shadow-md">
                            ğŸš€ Ø¨Ø¯Ø¡ Ø§Ù„ØªÙˆÙ„ÙŠØ¯
                        </button>
                    </div>
                </div>
                
                <!-- Progress Bar -->
                <div class="mb-4">
                    <div class="flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-2">
                        <span id="currentProgress">Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ§Ø¶ØºØ· "Ø¨Ø¯Ø¡ Ø§Ù„ØªÙˆÙ„ÙŠØ¯"</span>
                        <span id="progressPercent">0%</span>
                    </div>
                    <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3">
                        <div id="progressBar" class="progress-bar bg-gradient-to-r from-primary to-purple-600 h-3 rounded-full" style="width: 0%"></div>
                    </div>
                </div>
                
                <div class="flex items-center justify-between flex-wrap gap-2">
                    <div id="progressInfo" class="text-sm text-gray-600 dark:text-gray-400"></div>
                    <div class="flex space-x-2 space-x-reverse">
                        <button id="pauseBtn" class="hidden bg-yellow-600 hover:bg-yellow-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200">
                            â¸ï¸ Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª
                        </button>
                        <button id="saveCollectionBtn" class="hidden bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200">
                            ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©
                        </button>
                        <button id="downloadBtn" class="hidden bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200">
                            ğŸ“¥ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
                        </button>
                    </div>
                </div>
            </div>

            <!-- Statistics -->
            <div id="statsContainer" class="hidden grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4">
                    <div class="text-xl md:text-2xl font-bold text-blue-600 dark:text-blue-400" id="totalWords">0</div>
                    <div class="text-sm text-blue-600 dark:text-blue-400">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙˆÙ„Ø¯Ø©</div>
                </div>
                <div class="bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4">
                    <div class="text-xl md:text-2xl font-bold text-green-600 dark:text-green-400" id="displayedWords">0</div>
                    <div class="text-sm text-green-600 dark:text-green-400">Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶Ø©</div>
                </div>
                <div class="bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-4">
                    <div class="text-xl md:text-2xl font-bold text-purple-600 dark:text-purple-400" id="savedWordsCount">0</div>
                    <div class="text-sm text-purple-600 dark:text-purple-400">Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©</div>
                </div>
                <div class="bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4">
                    <div class="text-xl md:text-2xl font-bold text-orange-600 dark:text-orange-400" id="currentLength">0</div>
                    <div class="text-sm text-orange-600 dark:text-orange-400">Ø·ÙˆÙ„ Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠ</div>
                </div>
            </div>

            <!-- Loading Indicator -->
            <div id="loadingIndicator" class="hidden text-center py-8">
                <div class="loading-spinner mx-auto mb-4"></div>
                <p class="text-gray-600 dark:text-gray-400">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯... ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</p>
            </div>

            <!-- Words Container -->
            <div id="wordsContainer" class="grid grid-cols-3 sm:grid-cols-5 md:grid-cols-7 lg:grid-cols-9 xl:grid-cols-12 gap-2 md:gap-3">
            </div>

            <!-- Load More Button -->
            <div id="loadMoreContainer" class="hidden text-center mt-6 md:mt-8">
                <button id="loadMoreBtn" class="bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 px-8 rounded-lg transition-colors duration-200">
                    ğŸ“„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø²ÙŠØ¯
                </button>
            </div>
        </div>

        <!-- Saved Collections Tab -->
        <div id="saved-tab" class="tab-content hidden">
            <div class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold">ğŸ“š Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©</h2>
                    <div class="flex space-x-2 space-x-reverse">
                        <button id="exportAllBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors">
                            ğŸ“¤ ØªØµØ¯ÙŠØ± Ø§Ù„ÙƒÙ„
                        </button>
                        <button id="clearAllBtn" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors">
                            ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„
                        </button>
                    </div>
                </div>
                <div id="collectionsContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <!-- Collections will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Help Tab -->
        <div id="help-tab" class="tab-content hidden">
            <div class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm">
                <h2 class="text-2xl font-bold mb-6">â“ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-xl font-bold mb-4 text-primary">ğŸ¯ ÙƒÙŠÙÙŠØ© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</h3>
                        <div class="space-y-4">
                            <div class="p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
                                <h4 class="font-semibold mb-2">1ï¸âƒ£ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Ø­Ø¯Ø¯ Ø§Ù„Ø·ÙˆÙ„ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„ÙƒÙ„Ù…Ø© ÙˆØ¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª ÙÙŠ ÙƒÙ„ Ø¯ÙØ¹Ø©</p>
                            </div>
                            <div class="p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
                                <h4 class="font-semibold mb-2">2ï¸âƒ£ Ø¨Ø¯Ø¡ Ø§Ù„ØªÙˆÙ„ÙŠØ¯</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Ø§Ø¶ØºØ· "Ø¨Ø¯Ø¡ Ø§Ù„ØªÙˆÙ„ÙŠØ¯" ÙˆÙ…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª ØªØ¸Ù‡Ø± ØªØ¯Ø±ÙŠØ¬ÙŠØ§Ù‹</p>
                            </div>
                            <div class="p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
                                <h4 class="font-semibold mb-2">3ï¸âƒ£ Ø­ÙØ¸ Ø§Ù„ÙƒÙ„Ù…Ø§Øª</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ ğŸ’¾ Ù„Ø­ÙØ¸ ÙƒÙ„Ù…Ø§Øª Ù…ÙØ±Ø¯Ø© Ø£Ùˆ Ø§Ø­ÙØ¸ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© ÙƒØ§Ù…Ù„Ø©</p>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h3 class="text-xl font-bold mb-4 text-green-600">âš¡ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</h3>
                        <div class="space-y-3">
                            <div class="flex items-center space-x-3 space-x-reverse">
                                <span class="text-2xl">ğŸ”„</span>
                                <span>ØªÙˆÙ„ÙŠØ¯ ØªØ³Ù„Ø³Ù„ÙŠ Ù…Ù†Ø¸Ù… Ù„Ù„ÙƒÙ„Ù…Ø§Øª</span>
                            </div>
                            <div class="flex items-center space-x-3 space-x-reverse">
                                <span class="text-2xl">ğŸ’¾</span>
                                <span>Ø­ÙØ¸ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ù…Ø­Ù„ÙŠØ§Ù‹ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­</span>
                            </div>
                            <div class="flex items-center space-x-3 space-x-reverse">
                                <span class="text-2xl">ğŸ“±</span>
                                <span>ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</span>
                            </div>
                            <div class="flex items-center space-x-3 space-x-reverse">
                                <span class="text-2xl">ğŸŒ™</span>
                                <span>Ø¯Ø¹Ù… Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…</span>
                            </div>
                            <div class="flex items-center space-x-3 space-x-reverse">
                                <span class="text-2xl">âš¡</span>
                                <span>Ø£Ø¯Ø§Ø¡ Ø¹Ø§Ù„ÙŠ ÙˆÙ…Ø¹Ø§Ù„Ø¬Ø© Ø³Ø±ÙŠØ¹Ø©</span>
                            </div>
                            <div class="flex items-center space-x-3 space-x-reverse">
                                <span class="text-2xl">ğŸ“¥</span>
                                <span>ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨ØµÙŠØºØ© TXT</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="mt-8 p-6 bg-gradient-to-r from-primary/10 to-purple-600/10 rounded-lg border border-primary/20">
                    <h3 class="text-lg font-bold mb-3">ğŸ’¡ Ù†ØµØ§Ø¦Ø­ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ù…Ø«Ù„</h3>
                    <ul class="space-y-2 text-sm">
                        <li>â€¢ Ø§Ø¨Ø¯Ø£ Ø¨Ø£Ø·ÙˆØ§Ù„ Ù‚ØµÙŠØ±Ø© (1-3 Ø£Ø­Ø±Ù) Ù„ÙÙ‡Ù… Ø§Ù„Ù†Ø¸Ø§Ù…</li>
                        <li>â€¢ Ø§Ø³ØªØ®Ø¯Ù… Ø£Ø³Ù…Ø§Ø¡ ÙˆØ§Ø¶Ø­Ø© Ù„Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©</li>
                        <li>â€¢ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ØªÙˆÙ„ÙŠØ¯ Ù…Ø¤Ù‚ØªØ§Ù‹ ÙˆØ§Ø³ØªÙƒÙ…Ø§Ù„Ù‡ Ù„Ø§Ø­Ù‚Ø§Ù‹</li>
                        <li>â€¢ Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø£ÙŠ ÙƒÙ„Ù…Ø© Ù„Ù†Ø³Ø®Ù‡Ø§ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©</li>
                        <li>â€¢ Ø§Ø³ØªØ®Ø¯Ù… ÙˆØ¶Ø¹ Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªØ¬Ø±Ø¨Ø© Ø£ÙØ¶Ù„</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- About Developer Tab -->
        <div id="about-tab" class="tab-content hidden">
            <div class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm">
                <div class="text-center mb-8">
                    <div class="w-32 h-32 mx-auto mb-6 bg-gradient-to-br from-primary to-purple-600 rounded-full flex items-center justify-center shadow-lg">
                        <span class="text-4xl text-white font-bold">Ù….Ø¨</span>
                    </div>
                    <h2 class="text-3xl font-bold mb-3">Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¨Ø§Ø¯Ù„ÙŠ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ</h2>
                    <p class="text-lg text-gray-600 dark:text-gray-400 mb-4">Ù…Ø·ÙˆØ± ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„ÙˆÙŠØ¨ Ù…ØªØ®ØµØµ ÙÙŠ Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„Ø­ÙˆØ³Ø¨Ø© Ø§Ù„Ù„ØºÙˆÙŠØ©</p>
                    <div class="flex items-center justify-center space-x-3 space-x-reverse mb-6">
                        <div class="w-8 h-5 morocco-flag rounded"></div>
                        <span class="text-morocco font-semibold text-lg">ğŸ‡²ğŸ‡¦ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù…ØºØ±Ø¨ÙŠØ©</span>
                    </div>
                    
                    <!-- Contact Info -->
                    <div class="flex justify-center space-x-4 space-x-reverse mb-8">
                        <div class="bg-gray-100 dark:bg-gray-700 px-4 py-2 rounded-lg">
                            <span class="text-sm">ğŸ“§ Ù„Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ù…Ù‡Ù†ÙŠ</span>
                        </div>
                        <div class="bg-gray-100 dark:bg-gray-700 px-4 py-2 rounded-lg">
                            <span class="text-sm">ğŸ’¼ Ù…ØªØ§Ø­ Ù„Ù„Ù…Ø´Ø§Ø±ÙŠØ¹</span>
                        </div>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                    <div>
                        <h3 class="text-xl font-bold mb-4 text-primary">ğŸš€ Ø­ÙˆÙ„ Ù‡Ø°Ø§ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</h3>
                        <div class="space-y-3 text-gray-600 dark:text-gray-400">
                            <p>â€¢ Ù…ÙˆÙ„Ø¯ Ù…ØªÙ‚Ø¯Ù… Ù„Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠØ©</p>
                            <p>â€¢ Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Ù…Ø­Ø³Ù†Ø© Ù„ØªÙˆÙ„ÙŠØ¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ±ÙƒÙŠØ¨Ø§Øª Ø§Ù„Ù…Ù…ÙƒÙ†Ø©</p>
                            <p>â€¢ Ù†Ø¸Ø§Ù… Ø­ÙØ¸ ÙˆØ¥Ø¯Ø§Ø±Ø© Ù…ØªØ·ÙˆØ± Ù„Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª</p>
                            <p>â€¢ ØªØµÙ…ÙŠÙ… Ù…ØªØ¬Ø§ÙˆØ¨ ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</p>
                            <p>â€¢ ØªÙ‚Ù†ÙŠØ© PWA Ù„Ù„Ø¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª</p>
                            <p>â€¢ Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…</p>
                        </div>
                    </div>
                    
                    <div>
                        <h3 class="text-xl font-bold mb-4 text-green-600">âš™ï¸ Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©</h3>
                        <div class="space-y-3 text-gray-600 dark:text-gray-400">
                            <p>â€¢ HTML5, CSS3, JavaScript ES6+</p>
                            <p>â€¢ TailwindCSS Ù„Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…ØªØ¬Ø§ÙˆØ¨</p>
                            <p>â€¢ IndexedDB Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ§Ù‹</p>
                            <p>â€¢ Web Workers Ù„Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…ØªÙˆØ§Ø²ÙŠØ©</p>
                            <p>â€¢ Service Workers Ù„Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª</p>
                            <p>â€¢ Progressive Web App (PWA)</p>
                        </div>
                    </div>
                </div>
                
                <div class="mb-8">
                    <h3 class="text-xl font-bold mb-4 text-purple-600">ğŸ¯ Ø§Ù„Ù‡Ø¯Ù Ù…Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</h3>
                    <div class="bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 p-6 rounded-lg border border-purple-200 dark:border-purple-800">
                        <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
                            Ù‡Ø°Ø§ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ø®ØµØµ Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ø¨Ø§Ø­Ø«ÙŠÙ† ÙˆØ§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠÙŠÙ† ÙˆØ§Ù„Ù…Ù‡ØªÙ…ÙŠÙ† Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„Ø­ÙˆØ³Ø¨Ø© Ø§Ù„Ù„ØºÙˆÙŠØ©. 
                            ÙŠÙ‡Ø¯Ù Ø¥Ù„Ù‰ ØªÙˆÙÙŠØ± Ø£Ø¯Ø§Ø© Ø´Ø§Ù…Ù„Ø© ÙˆÙ…ØªÙ‚Ø¯Ù…Ø© Ù„ØªÙˆÙ„ÙŠØ¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ±ÙƒÙŠØ¨Ø§Øª Ø§Ù„Ù…Ù…ÙƒÙ†Ø© Ù„Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ù†Ø¸Ù…Ø© ÙˆØ¹Ù„Ù…ÙŠØ©ØŒ 
                            Ù…Ù…Ø§ ÙŠØ³Ø§Ø¹Ø¯ ÙÙŠ Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ù„ØºÙˆÙŠØ© ÙˆØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø¹Ø§Ø¬Ù… ÙˆØªØ·Ø¨ÙŠÙ‚Ø§Øª Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù„ØºØ© Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©.
                        </p>
                    </div>
                </div>
                
                <div class="text-center">
                    <div class="bg-gradient-to-r from-primary/10 to-purple-600/10 p-6 rounded-lg border border-primary/20">
                        <p class="text-lg font-semibold text-primary mb-2">Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚! ğŸ™</p>
                        <p class="text-sm text-gray-600 dark:text-gray-400">
                            "ØªÙ… ØªØ·ÙˆÙŠØ± Ù‡Ø°Ø§ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ø¹Ù†Ø§ÙŠØ© Ù„Ø®Ø¯Ù…Ø© Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„Ø¨Ø§Ø­Ø«ÙŠÙ† ÙÙŠ Ù…Ø¬Ø§Ù„ Ø§Ù„Ø­ÙˆØ³Ø¨Ø© Ø§Ù„Ù„ØºÙˆÙŠØ©"
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer text-white py-8 mt-12">
        <div class="max-w-7xl mx-auto px-4 md:px-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="font-bold text-lg mb-3">Ù…ÙˆÙ„Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</h3>
                    <p class="text-purple-100 text-sm">Ø£Ø¯Ø§Ø© Ù…ØªÙ‚Ø¯Ù…Ø© Ù„ØªÙˆÙ„ÙŠØ¯ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø·Ø±ÙŠÙ‚Ø© ØªØ³Ù„Ø³Ù„ÙŠØ© Ù…Ù†Ø¸Ù…Ø©</p>
                </div>
                <div>
                    <h3 class="font-bold text-lg mb-3">Ø§Ù„ØªØ·ÙˆÙŠØ±</h3>
                    <p class="text-purple-100 text-sm">Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¨Ø§Ø¯Ù„ÙŠ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ</p>
                    <p class="text-purple-100 text-sm">ğŸ‡²ğŸ‡¦ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù…ØºØ±Ø¨ÙŠØ©</p>
                </div>
                <div>
                    <h3 class="font-bold text-lg mb-3">Ø§Ù„Ø¥ØµØ¯Ø§Ø±</h3>
                    <p class="text-purple-100 text-sm">Ø§Ù„Ø¥ØµØ¯Ø§Ø± 2.0 - 2024</p>
                    <p class="text-purple-100 text-sm">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
                </div>
            </div>
            <div class="border-t border-purple-400/30 mt-8 pt-6 text-center">
                <p class="text-purple-100 text-sm">
                    Â© 2024 Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¨Ø§Ø¯Ù„ÙŠ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ - ØªØ·Ø¨ÙŠÙ‚ Ù…ÙˆÙ„Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠ
                </p>
            </div>
        </div>
    </footer>

    <!-- Custom Modal Container -->
    <div id="modalContainer"></div>

    <script>
        // Arabic letters in order
        const arabicLetters = [
            'Ø§', 'Ø¨', 'Øª', 'Ø«', 'Ø¬', 'Ø­', 'Ø®', 'Ø¯', 'Ø°', 'Ø±', 'Ø²', 'Ø³', 'Ø´', 'Øµ', 'Ø¶', 'Ø·', 'Ø¸', 'Ø¹', 'Øº', 'Ù', 'Ù‚', 'Ùƒ', 'Ù„', 'Ù…', 'Ù†', 'Ù‡', 'Ùˆ', 'ÙŠ'
        ];
        
        let allWords = [];
        let displayedWords = [];
        let savedWords = new Set();
        let currentIndex = 0;
        let isGenerating = false;
        let isPaused = false;
        let generationProgress = { current: 0, total: 0 };
        let db;

        // Dark mode detection
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });

        // Initialize IndexedDB
        async function initDB() {
            return new Promise((resolve, reject) => {
                const request = indexedDB.open('ArabicWordsDB_MohammedAlbadli', 2);
                
                request.onerror = () => reject(request.error);
                request.onsuccess = () => {
                    db = request.result;
                    resolve(db);
                };
                
                request.onupgradeneeded = (event) => {
                    const db = event.target.result;
                    
                    // Create collections store
                    if (!db.objectStoreNames.contains('collections')) {
                        const collectionsStore = db.createObjectStore('collections', { keyPath: 'id', autoIncrement: true });
                        collectionsStore.createIndex('name', 'name', { unique: false });
                        collectionsStore.createIndex('date', 'date', { unique: false });
                    }
                    
                    // Create words store
                    if (!db.objectStoreNames.contains('words')) {
                        const wordsStore = db.createObjectStore('words', { keyPath: 'id', autoIncrement: true });
                        wordsStore.createIndex('word', 'word', { unique: false });
                        wordsStore.createIndex('collectionId', 'collectionId', { unique: false });
                    }
                };
            });
        }

        // Update quick stats when max length changes
        function updateQuickStats() {
            const maxLength = parseInt(document.getElementById('maxLength').value);
            const total = calculateTotalWords(maxLength);
            document.getElementById('quickTotal').textContent = total.toLocaleString();
        }

        // Save collection to IndexedDB
        async function saveCollection(name, words, maxLength) {
            if (!db) await initDB();
            
            const transaction = db.transaction(['collections', 'words'], 'readwrite');
            const collectionsStore = transaction.objectStore('collections');
            const wordsStore = transaction.objectStore('words');
            
            // Save collection metadata
            const collection = {
                name: name || `Ù…Ø¬Ù…ÙˆØ¹Ø© ÙƒÙ„Ù…Ø§Øª ${maxLength} Ø£Ø­Ø±Ù`,
                maxLength: maxLength,
                wordCount: words.length,
                date: new Date().toISOString(),
                author: 'Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¨Ø§Ø¯Ù„ÙŠ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ',
                version: '2.0'
            };
            
            const collectionRequest = collectionsStore.add(collection);
            
            return new Promise((resolve, reject) => {
                collectionRequest.onsuccess = () => {
                    const collectionId = collectionRequest.result;
                    
                    // Save words
                    const wordPromises = words.map(word => {
                        return new Promise((resolveWord) => {
                            const wordRequest = wordsStore.add({
                                word: word,
                                collectionId: collectionId,
                                length: word.length
                            });
                            wordRequest.onsuccess = () => resolveWord();
                        });
                    });
                    
                    Promise.all(wordPromises).then(() => {
                        resolve(collectionId);
                    });
                };
                
                collectionRequest.onerror = () => reject(collectionRequest.error);
            });
        }

        // Load collections from IndexedDB
        async function loadCollections() {
            if (!db) await initDB();
            
            const transaction = db.transaction(['collections'], 'readonly');
            const store = transaction.objectStore('collections');
            const request = store.getAll();
            
            return new Promise((resolve, reject) => {
                request.onsuccess = () => {
                    const collections = request.result;
                    document.getElementById('quickSaved').textContent = collections.length;
                    resolve(collections);
                };
                request.onerror = () => reject(request.error);
            });
        }

        // Load words from collection
        async function loadWordsFromCollection(collectionId) {
            if (!db) await initDB();
            
            const transaction = db.transaction(['words'], 'readonly');
            const store = transaction.objectStore('words');
            const index = store.index('collectionId');
            const request = index.getAll(collectionId);
            
            return new Promise((resolve, reject) => {
                request.onsuccess = () => resolve(request.result.map(item => item.word));
                request.onerror = () => reject(request.error);
            });
        }

        // Delete collection
        async function deleteCollection(collectionId) {
            if (!db) await initDB();
            
            const transaction = db.transaction(['collections', 'words'], 'readwrite');
            const collectionsStore = transaction.objectStore('collections');
            const wordsStore = transaction.objectStore('words');
            
            // Delete collection
            collectionsStore.delete(collectionId);
            
            // Delete associated words
            const wordsIndex = wordsStore.index('collectionId');
            const wordsRequest = wordsIndex.getAll(collectionId);
            
            wordsRequest.onsuccess = () => {
                const words = wordsRequest.result;
                words.forEach(word => {
                    wordsStore.delete(word.id);
                });
            };
        }

        // Tab navigation
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', (e) => {
                const targetTab = e.target.dataset.tab;
                
                // Update active tab
                document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                e.target.classList.add('active');
                
                // Show/hide content
                document.querySelectorAll('.tab-content').forEach(content => content.classList.add('hidden'));
                document.getElementById(targetTab + '-tab').classList.remove('hidden');
                
                // Load collections if switching to saved tab
                if (targetTab === 'saved') {
                    loadCollectionsDisplay();
                }
            });
        });

        // Generate words sequentially from length 1 to maxLength
        function* generateSequentialWords(maxLength) {
            let totalGenerated = 0;
            
            for (let length = 1; length <= maxLength; length++) {
                const totalForLength = Math.pow(arabicLetters.length, length);
                
                for (let index = 0; index < totalForLength; index++) {
                    if (isPaused) {
                        yield null;
                        continue;
                    }
                    
                    const word = generateWordFromIndex(index, length);
                    totalGenerated++;
                    
                    yield {
                        word: word,
                        length: length,
                        index: index,
                        totalForLength: totalForLength,
                        totalGenerated: totalGenerated
                    };
                }
            }
        }
        
        // Convert index to word for given length
        function generateWordFromIndex(index, length) {
            let word = '';
            let temp = index;
            
            for (let i = 0; i < length; i++) {
                word = arabicLetters[temp % arabicLetters.length] + word;
                temp = Math.floor(temp / arabicLetters.length);
            }
            
            return word;
        }
        
        // Calculate total words for all lengths up to maxLength
        function calculateTotalWords(maxLength) {
            let total = 0;
            for (let length = 1; length <= maxLength; length++) {
                total += Math.pow(arabicLetters.length, length);
            }
            return total;
        }

        // Generate words sequentially
        async function generateWords() {
            if (isGenerating) return;
            
            isGenerating = true;
            isPaused = false;
            
            const generateBtn = document.getElementById('generateBtn');
            const pauseBtn = document.getElementById('pauseBtn');
            const loadingIndicator = document.getElementById('loadingIndicator');
            const wordsContainer = document.getElementById('wordsContainer');
            const statsContainer = document.getElementById('statsContainer');
            const saveCollectionBtn = document.getElementById('saveCollectionBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const progressBar = document.getElementById('progressBar');
            const progressPercent = document.getElementById('progressPercent');
            const currentProgress = document.getElementById('currentProgress');
            
            generateBtn.disabled = true;
            generateBtn.innerHTML = 'â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...';
            pauseBtn.classList.remove('hidden');
            loadingIndicator.classList.remove('hidden');
            wordsContainer.innerHTML = '';
            statsContainer.classList.remove('hidden');
            saveCollectionBtn.classList.add('hidden');
            downloadBtn.classList.add('hidden');
            
            const maxLength = parseInt(document.getElementById('maxLength').value);
            const batchSize = parseInt(document.getElementById('batchSize').value);
            
            try {
                allWords = [];
                displayedWords = [];
                currentIndex = 0;
                
                const totalExpected = calculateTotalWords(maxLength);
                generationProgress.total = totalExpected;
                generationProgress.current = 0;
                
                document.getElementById('totalWords').textContent = totalExpected.toLocaleString();
                document.getElementById('displayedWords').textContent = '0';
                document.getElementById('currentLength').textContent = '1';
                
                const generator = generateSequentialWords(maxLength);
                let batch = [];
                let lastUpdateTime = Date.now();
                
                while (true) {
                    if (isPaused) {
                        await new Promise(resolve => setTimeout(resolve, 100));
                        continue;
                    }
                    
                    const result = generator.next();
                    
                    if (result.done) {
                        if (batch.length > 0) {
                            addWordBatch(batch);
                            batch = [];
                        }
                        break;
                    }
                    
                    if (result.value === null) continue;
                    
                    const wordData = result.value;
                    allWords.push(wordData.word);
                    batch.push(wordData);
                    generationProgress.current = wordData.totalGenerated;
                    
                    const now = Date.now();
                    if (batch.length >= batchSize || now - lastUpdateTime > 100) {
                        addWordBatch(batch);
                        batch = [];
                        
                        const percent = Math.round((generationProgress.current / generationProgress.total) * 100);
                        progressBar.style.width = percent + '%';
                        progressPercent.textContent = percent + '%';
                        currentProgress.textContent = `ØªÙˆÙ„ÙŠØ¯ ÙƒÙ„Ù…Ø§Øª Ø¨Ø·ÙˆÙ„ ${wordData.length} Ø­Ø±Ù`;
                        document.getElementById('currentLength').textContent = wordData.length;
                        document.getElementById('displayedWords').textContent = allWords.length.toLocaleString();
                        
                        lastUpdateTime = now;
                        await new Promise(resolve => setTimeout(resolve, 1));
                    }
                }
                
                progressBar.style.width = '100%';
                progressPercent.textContent = '100%';
                currentProgress.textContent = 'âœ… Ø§ÙƒØªÙ…Ù„ Ø§Ù„ØªÙˆÙ„ÙŠØ¯ Ø¨Ù†Ø¬Ø§Ø­!';
                saveCollectionBtn.classList.remove('hidden');
                downloadBtn.classList.remove('hidden');
                
                showCustomAlert(`ğŸ‰ ØªÙ… ØªÙˆÙ„ÙŠØ¯ ${allWords.length.toLocaleString()} ÙƒÙ„Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­!`);
                
            } catch (error) {
                showCustomAlert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªÙˆÙ„ÙŠØ¯: ' + error.message);
            } finally {
                isGenerating = false;
                generateBtn.disabled = false;
                generateBtn.innerHTML = 'ğŸš€ Ø¨Ø¯Ø¡ Ø§Ù„ØªÙˆÙ„ÙŠØ¯';
                pauseBtn.classList.add('hidden');
                loadingIndicator.classList.add('hidden');
            }
        }
        
        // Add batch of words to display
        function addWordBatch(batch) {
            const wordsContainer = document.getElementById('wordsContainer');
            
            batch.forEach(wordData => {
                const wordCard = document.createElement('div');
                wordCard.className = 'word-card bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-2 md:p-3 text-center font-medium shadow-sm hover:shadow-md cursor-pointer fade-in';
                wordCard.innerHTML = `
                    <button class="save-btn" onclick="toggleSaveWord(event, '${wordData.word}')">ğŸ’¾</button>
                    ${wordData.word}
                `;
                wordCard.title = `Ø·ÙˆÙ„: ${wordData.length} | ØªØ±Ù‚ÙŠÙ…: ${(wordData.index + 1).toLocaleString()} | Ø§Ù†Ù‚Ø± Ù„Ù„Ù†Ø³Ø®`;
                wordCard.onclick = (e) => {
                    if (e.target.classList.contains('save-btn')) return;
                    copyToClipboard(wordData.word);
                };
                wordsContainer.appendChild(wordCard);
            });
        }

        // Toggle save word
        function toggleSaveWord(event, word) {
            event.stopPropagation();
            const wordCard = event.target.parentElement;
            
            if (savedWords.has(word)) {
                savedWords.delete(word);
                wordCard.classList.remove('saved');
                event.target.textContent = 'ğŸ’¾';
            } else {
                savedWords.add(word);
                wordCard.classList.add('saved');
                event.target.textContent = 'âœ…';
            }
            
            document.getElementById('savedWordsCount').textContent = savedWords.size;
        }
        
        // Pause/Resume generation
        function togglePause() {
            isPaused = !isPaused;
            const pauseBtn = document.getElementById('pauseBtn');
            
            if (isPaused) {
                pauseBtn.innerHTML = 'â–¶ï¸ Ø§Ø³ØªØ¦Ù†Ø§Ù';
                pauseBtn.className = pauseBtn.className.replace('bg-yellow-600 hover:bg-yellow-700', 'bg-green-600 hover:bg-green-700');
            } else {
                pauseBtn.innerHTML = 'â¸ï¸ Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª';
                pauseBtn.className = pauseBtn.className.replace('bg-green-600 hover:bg-green-700', 'bg-yellow-600 hover:bg-yellow-700');
            }
        }

        // Save current collection
        async function saveCurrentCollection() {
            const collectionName = document.getElementById('collectionName').value;
            const maxLength = document.getElementById('maxLength').value;
            
            if (allWords.length === 0) {
                showCustomAlert('âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ ÙƒÙ„Ù…Ø§Øª Ù„Ù„Ø­ÙØ¸!');
                return;
            }
            
            try {
                const collectionId = await saveCollection(collectionName, allWords, maxLength);
                showCustomAlert(`âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¨Ù†Ø¬Ø§Ø­! (${allWords.length.toLocaleString()} ÙƒÙ„Ù…Ø©)`);
                document.getElementById('collectionName').value = '';
                loadCollections(); // Update quick stats
            } catch (error) {
                showCustomAlert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­ÙØ¸: ' + error.message);
            }
        }

        // Load and display collections
        async function loadCollectionsDisplay() {
            try {
                const collections = await loadCollections();
                const container = document.getElementById('collectionsContainer');
                
                if (collections.length === 0) {
                    container.innerHTML = `
                        <div class="col-span-full text-center py-12 text-gray-500">
                            <div class="text-6xl mb-4">ğŸ“š</div>
                            <p class="text-xl mb-2">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ù…Ø­ÙÙˆØ¸Ø©</p>
                            <p class="text-sm">Ø§Ø¨Ø¯Ø£ Ø¨ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª ÙˆØ­ÙØ¸Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª</p>
                        </div>
                    `;
                    return;
                }
                
                container.innerHTML = collections.map(collection => `
                    <div class="collection-card bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg p-4" onclick="viewCollection(${collection.id})">
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="font-bold text-lg truncate">${collection.name}</h3>
                            <button class="text-red-500 hover:text-red-700 text-xl" onclick="event.stopPropagation(); confirmDeleteCollection(${collection.id})" title="Ø­Ø°Ù Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©">ğŸ—‘ï¸</button>
                        </div>
                        <div class="space-y-2 text-sm text-gray-600 dark:text-gray-400">
                            <p>ğŸ“Š ${collection.wordCount.toLocaleString()} ÙƒÙ„Ù…Ø©</p>
                            <p>ğŸ“ Ø­ØªÙ‰ ${collection.maxLength} Ø£Ø­Ø±Ù</p>
                            <p>ğŸ“… ${new Date(collection.date).toLocaleDateString('ar-SA')}</p>
                            <p class="text-primary font-medium">ğŸ‘¨â€ğŸ’» ${collection.author}</p>
                            ${collection.version ? `<p class="text-xs text-gray-500">v${collection.version}</p>` : ''}
                        </div>
                    </div>
                `).join('');
                
            } catch (error) {
                showCustomAlert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª: ' + error.message);
            }
        }

        // View collection details
        async function viewCollection(collectionId) {
            try {
                const words = await loadWordsFromCollection(collectionId);
                showCollectionModal(words);
            } catch (error) {
                showCustomAlert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒÙ„Ù…Ø§Øª: ' + error.message);
            }
        }

        // Show collection modal
        function showCollectionModal(words) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg max-w-6xl w-full max-h-[90vh] flex flex-col">
                    <div class="p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center">
                        <h3 class="text-xl font-bold">ğŸ“š ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© (${words.length.toLocaleString()})</h3>
                        <div class="flex space-x-2 space-x-reverse">
                            <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded transition-colors" onclick="downloadWordsAsTxt(${JSON.stringify(words).replace(/"/g, '&quot;')})">ğŸ“¥ ØªØ­Ù…ÙŠÙ„ TXT</button>
                            <button class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded transition-colors" onclick="this.closest('.fixed').remove()">âŒ Ø¥ØºÙ„Ø§Ù‚</button>
                        </div>
                    </div>
                    <div class="p-6 overflow-auto flex-1">
                        <div class="grid grid-cols-6 sm:grid-cols-8 md:grid-cols-12 lg:grid-cols-16 gap-2">
                            ${words.map(word => `
                                <div class="bg-gray-100 dark:bg-gray-700 rounded p-2 text-center text-sm cursor-pointer hover:bg-primary hover:text-white transition-colors font-medium" onclick="copyToClipboard('${word}')" title="Ø§Ù†Ù‚Ø± Ù„Ù„Ù†Ø³Ø®: ${word}">
                                    ${word}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('modalContainer').appendChild(modal);
        }

        // Download words as TXT
        function downloadWordsAsTxt(words) {
            const header = `Ù…ÙˆÙ„Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠ
ØªØ·ÙˆÙŠØ±: Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¨Ø§Ø¯Ù„ÙŠ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ ğŸ‡²ğŸ‡¦
Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª: ${words.length.toLocaleString()}
ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØµØ¯ÙŠØ±: ${new Date().toLocaleDateString('ar-SA')}
Ø§Ù„ÙˆÙ‚Øª: ${new Date().toLocaleTimeString('ar-SA')}
Ø§Ù„Ù…ÙˆÙ‚Ø¹: arabic-words-generator

${'='.repeat(50)}

`;
            const content = header + words.join('\n');
            const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = `arabic_words_collection_mohammed_albadli_${new Date().toISOString().slice(0, 10)}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showCustomAlert('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø¨Ù†Ø¬Ø§Ø­!');
        }

        // Export all collections
        async function exportAllCollections() {
            try {
                const collections = await loadCollections();
                if (collections.length === 0) {
                    showCustomAlert('âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ù„Ù„ØªØµØ¯ÙŠØ±!');
                    return;
                }
                
                let allData = `Ù…ÙˆÙ„Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠ - ØªØµØ¯ÙŠØ± Ø´Ø§Ù…Ù„
ØªØ·ÙˆÙŠØ±: Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¨Ø§Ø¯Ù„ÙŠ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ ğŸ‡²ğŸ‡¦
Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª: ${collections.length}
ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØµØ¯ÙŠØ±: ${new Date().toLocaleDateString('ar-SA')}
Ø§Ù„ÙˆÙ‚Øª: ${new Date().toLocaleTimeString('ar-SA')}

${'='.repeat(80)}

`;
                
                for (const collection of collections) {
                    const words = await loadWordsFromCollection(collection.id);
                    allData += `
ğŸ“š Ø§Ø³Ù… Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©: ${collection.name}
ğŸ“Š Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª: ${collection.wordCount.toLocaleString()}
ğŸ“ Ø§Ù„Ø·ÙˆÙ„ Ø§Ù„Ø£Ù‚ØµÙ‰: ${collection.maxLength} Ø£Ø­Ø±Ù
ğŸ“… ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡: ${new Date(collection.date).toLocaleDateString('ar-SA')}
ğŸ‘¨â€ğŸ’» Ø§Ù„Ù…Ø·ÙˆØ±: ${collection.author}

Ø§Ù„ÙƒÙ„Ù…Ø§Øª:
${words.join(', ')}

${'-'.repeat(60)}
`;
                }
                
                const blob = new Blob([allData], { type: 'text/plain;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                
                const a = document.createElement('a');
                a.href = url;
                a.download = `arabic_words_all_collections_mohammed_albadli_${new Date().toISOString().slice(0, 10)}.txt`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                showCustomAlert('âœ… ØªÙ… ØªØµØ¯ÙŠØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!');
                
            } catch (error) {
                showCustomAlert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØµØ¯ÙŠØ±: ' + error.message);
            }
        }

        // Confirm delete collection
        function confirmDeleteCollection(collectionId) {
            showConfirmDialog('ğŸ—‘ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©ØŸ', async () => {
                try {
                    await deleteCollection(collectionId);
                    loadCollectionsDisplay();
                    showCustomAlert('âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¨Ù†Ø¬Ø§Ø­');
                } catch (error) {
                    showCustomAlert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­Ø°Ù: ' + error.message);
                }
            });
        }

        // Clear all collections
        function clearAllCollections() {
            showConfirmDialog('ğŸš¨ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§ØªØŸ<br><small>Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹!</small>', async () => {
                try {
                    if (!db) await initDB();
                    
                    const transaction = db.transaction(['collections', 'words'], 'readwrite');
                    const collectionsStore = transaction.objectStore('collections');
                    const wordsStore = transaction.objectStore('words');
                    
                    await collectionsStore.clear();
                    await wordsStore.clear();
                    
                    loadCollectionsDisplay();
                    loadCollections(); // Update quick stats
                    showCustomAlert('âœ… ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
                } catch (error) {
                    showCustomAlert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­Ø°Ù: ' + error.message);
                }
            });
        }

        // Copy to clipboard
        async function copyToClipboard(text) {
            try {
                await navigator.clipboard.writeText(text);
                if ('vibrate' in navigator) {
                    navigator.vibrate(50);
                }
                showCustomAlert(`âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„ÙƒÙ„Ù…Ø©: ${text}`);
            } catch (err) {
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showCustomAlert(`âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„ÙƒÙ„Ù…Ø©: ${text}`);
            }
        }

        // Download results
        function downloadResults() {
            const maxLength = document.getElementById('maxLength').value;
            const collectionName = document.getElementById('collectionName').value || `Ù…Ø¬Ù…ÙˆØ¹Ø© ÙƒÙ„Ù…Ø§Øª ${maxLength} Ø£Ø­Ø±Ù`;
            const timestamp = new Date().toISOString().slice(0, 10);
            
            const content = `Ù…ÙˆÙ„Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠ
ØªØ·ÙˆÙŠØ±: Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¨Ø§Ø¯Ù„ÙŠ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ ğŸ‡²ğŸ‡¦
Ø§Ø³Ù… Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©: ${collectionName}
Ø§Ù„Ø·ÙˆÙ„ Ø§Ù„Ø£Ù‚ØµÙ‰: ${maxLength} Ø£Ø­Ø±Ù
Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª: ${allWords.length.toLocaleString()}
ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙˆÙ„ÙŠØ¯: ${new Date().toLocaleDateString('ar-SA')}
Ø§Ù„ÙˆÙ‚Øª: ${new Date().toLocaleTimeString('ar-SA')}
Ø§Ù„Ù…ÙˆÙ‚Ø¹: arabic-words-generator

${'='.repeat(80)}

${allWords.join('\n')}

${'='.repeat(80)}
Â© 2024 Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¨Ø§Ø¯Ù„ÙŠ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©`;

            const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = `arabic_words_${maxLength}chars_mohammed_albadli_${timestamp}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showCustomAlert('ğŸ“¥ ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø¨Ù†Ø¬Ø§Ø­!');
        }

        // Custom alert function
        function showCustomAlert(message) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-sm w-full mx-4 text-center animate-pulse">
                    <p class="text-gray-700 dark:text-gray-300 mb-4 leading-relaxed">${message}</p>
                    <button class="px-6 py-2 bg-primary text-white hover:bg-purple-600 rounded-lg transition-colors font-semibold" onclick="this.closest('.fixed').remove()">Ù…ÙˆØ§ÙÙ‚</button>
                </div>
            `;
            document.getElementById('modalContainer').appendChild(modal);
            
            setTimeout(() => {
                if (modal.parentNode) {
                    modal.remove();
                }
            }, 4000);
        }

        // Custom confirm dialog
        function showConfirmDialog(message, onConfirm) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-sm w-full mx-4">
                    <p class="text-gray-700 dark:text-gray-300 mb-6 leading-relaxed">${message}</p>
                    <div class="flex justify-end space-x-3 space-x-reverse">
                        <button class="px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors" onclick="this.closest('.fixed').remove()">Ø¥Ù„ØºØ§Ø¡</button>
                        <button class="px-4 py-2 bg-red-500 text-white hover:bg-red-600 rounded transition-colors font-semibold" onclick="this.closest('.fixed').remove(); (${onConfirm})()">ØªØ£ÙƒÙŠØ¯</button>
                    </div>
                </div>
            `;
            document.getElementById('modalContainer').appendChild(modal);
        }

        // Event listeners
        document.getElementById('generateBtn').addEventListener('click', generateWords);
        document.getElementById('pauseBtn').addEventListener('click', togglePause);
        document.getElementById('saveCollectionBtn').addEventListener('click', saveCurrentCollection);
        document.getElementById('downloadBtn').addEventListener('click', downloadResults);
        document.getElementById('clearAllBtn').addEventListener('click', clearAllCollections);
        document.getElementById('exportAllBtn').addEventListener('click', exportAllCollections);
        document.getElementById('maxLength').addEventListener('change', updateQuickStats);

        // Initialize
        document.addEventListener('DOMContentLoaded', async () => {
            await initDB();
            await loadCollections(); // Load and update stats
            updateQuickStats();
            document.getElementById('progressInfo').textContent = 'Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ§Ø¶ØºØ· "Ø¨Ø¯Ø¡ Ø§Ù„ØªÙˆÙ„ÙŠØ¯" Ù„Ù„Ø¨Ø¯Ø¡';
        });

        // Prevent zoom on iOS
        document.addEventListener('gesturestart', function (e) {
            e.preventDefault();
        });

        // Add service worker for PWA functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', async () => {
                try {
                    const swCode = `
                        const CACHE_NAME = 'arabic-words-mohammed-albadli-v2';
                        const urlsToCache = [
                            './',
                            'https://cdn.tailwindcss.com',
                            'https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@400;500;600;700&display=swap'
                        ];

                        self.addEventListener('install', event => {
                            event.waitUntil(
                                caches.open(CACHE_NAME)
                                    .then(cache => cache.addAll(urlsToCache))
                            );
                        });

                        self.addEventListener('fetch', event => {
                            event.respondWith(
                                caches.match(event.request)
                                    .then(response => {
                                        if (response) {
                                            return response;
                                        }
                                        return fetch(event.request);
                                    })
                            );
                        });
                    `;
                    
                    const blob = new Blob([swCode], { type: 'application/javascript' });
                    const swUrl = URL.createObjectURL(blob);
                    
                    await navigator.serviceWorker.register(swUrl);
                    console.log('Service Worker registered successfully');
                } catch (error) {
                    console.log('Service Worker registration failed:', error);
                }
            });
        }
    </script>
</body>
</html>
